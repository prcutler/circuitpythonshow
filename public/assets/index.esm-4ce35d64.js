function d(e){const t=document.createElement("pre");return t.style.width="1px",t.style.height="1px",t.style.position="fixed",t.style.top="5px",t.textContent=e,t}function a(e){if("clipboard"in navigator)return navigator.clipboard.writeText(e.textContent);const t=getSelection();if(t==null)return Promise.reject(new Error);t.removeAllRanges();const n=document.createRange();return n.selectNodeContents(e),t.addRange(n),document.execCommand("copy"),t.removeAllRanges(),Promise.resolve()}function r(e){if("clipboard"in navigator)return navigator.clipboard.writeText(e);const t=document.body;if(!t)return Promise.reject(new Error);const n=d(e);return t.appendChild(n),a(n),t.removeChild(n),Promise.resolve()}function u(e){const t=e.getAttribute("for"),n=e.getAttribute("value");function i(){e.dispatchEvent(new CustomEvent("clipboard-copy",{bubbles:!0}))}if(n)r(n).then(i);else if(t){const o="getRootNode"in Element.prototype?e.getRootNode():e.ownerDocument;if(!(o instanceof Document||"ShadowRoot"in window&&o instanceof ShadowRoot))return;const c=o.getElementById(t);c&&f(c).then(i)}}function f(e){return e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement?r(e.value):e instanceof HTMLAnchorElement&&e.hasAttribute("href")?r(e.href):a(e)}function p(e){const t=e.currentTarget;t instanceof HTMLElement&&u(t)}function l(e){if(e.key===" "||e.key==="Enter"){const t=e.currentTarget;t instanceof HTMLElement&&(e.preventDefault(),u(t))}}function m(e){e.currentTarget.addEventListener("keydown",l)}function b(e){e.currentTarget.removeEventListener("keydown",l)}class s extends HTMLElement{constructor(){super(),this.addEventListener("click",p),this.addEventListener("focus",m),this.addEventListener("blur",b)}connectedCallback(){this.hasAttribute("tabindex")||this.setAttribute("tabindex","0"),this.hasAttribute("role")||this.setAttribute("role","button")}get value(){return this.getAttribute("value")||""}set value(t){this.setAttribute("value",t)}}window.customElements.get("clipboard-copy")||(window.ClipboardCopyElement=s,window.customElements.define("clipboard-copy",s));
//# sourceMappingURL=index.esm-4ce35d64.js.map
